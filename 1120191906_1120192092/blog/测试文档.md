## 代码测试

* 使用pylint进行单元测试与集成测试，通过`xxx_test.py`标识一个测试文件，`test_yyy()`标识一个测试函数，pytest会扫描目录中所有以`_test`为后缀的文件，并执行该文件中的所有测试函数
* [详细信息](https://docs.pytest.org/en/6.2.x/)

## 测试说明
* 本项目目前已完成基本的单元测试，部分测试用例将随开发过程动态更新
* 为保证代码质量，**需要在每次提交代码前通过所有的单元测试**
* 测试方法：在最外层目录(subway)下执行`python3 -m pytest`

## 测试用例

### utils模块

通过黑盒与白盒测试方法，设计测试用例，将测试用例写于[utils测试文件](../core/core_test/utils_test.py)中，通过pytest自动执行测试
* test_split_by_space：
    | 测试用例编号  | 输入  | 预期输出  |
    |:---------:|:---------:|:---------:|
    | 1    | "x w nsjd1 1 "    | ["x", "w", "nsjd1", "1"]    |
    | 2    | " qwe  "    | ["qwe"]    |
    | 3    | "      "    | []    |
    | 4    | " 12    2  2 2 2"    | ["12", "2", "2", "2", "2"]    |

* load_test_file:

  | **测试用例编号** |      **输入**       |                       **预期输出**                       |
  | :--------------: | :-----------------: | :------------------------------------------------------: |
  |        1         | "data/testfile.txt" | ["良乡大学城","良乡大学城北","中关村","知春路","知春里"] |

### model模块

通过黑盒与白盒测试方法，设计测试用例，将测试用例写于[model测试文件](../core/core_test/model_test.py)中，通过pytest自动执行测试

* test_add_line

  | 测试用例编号 |              输入              |          预期输出          |
  | :----------: | :----------------------------: | :------------------------: |
  |      1       | 构造三条地铁线路（见测试函数） | 邻接表大小为7，地铁线路为3 |
  |      2       | 构造三条地铁线路（见测试函数） |  a1邻接点为a2，a4，b1，b2  |
  |      3       | 构造三条地铁线路（见测试函数） |    a2邻接点为a1，a3，b1    |
  |      4       | 构造三条地铁线路（见测试函数） |    b1邻接点为a1，a2，c1    |
  |      5       | 构造三条地铁线路（见测试函数） |      a3邻接点为a2，a4      |
  |      6       | 构造三条地铁线路（见测试函数） |      a4邻接点为a1，a3      |
  |      7       | 构造三条地铁线路（见测试函数） |        b2邻接点为a1        |
  |      8       | 构造三条地铁线路（见测试函数） |        c1邻接点为b1        |

* test_shortest_path
    | 测试用例编号  | 输入  | 预期输出  |
    |:---------:|:---------:|:---------:|
    | 1    | "知春路", "中关村"    | ["知春路", "知春里", "海淀黄庄", "中关村"]    |
    | 2    | "宣武门", "复兴门"    | ["宣武门", "西单", "复兴门"] 或者 ["宣武门", "长椿街", "复兴门"]    |
    | 3    | "北京西站", "西局"    | ["北京西站", "六里桥东", "六里桥", "西局"]    |
    | 4    | "12312", "王府井"    | 异常处理    |
* test_travel_path_from
    | 测试用例编号 | 输入                     | 预期输出                                                     |
    |:---------:|:---------:|:---------:|
    | 1            | 构造地铁线路，出发点为a1 | ["a_1","a_2","a_3","a_4","a_1","b_1","a_1","b_2","a_1","a_2","b_1","c_1"] |
    | 2            | 构造地铁线路，出发点为b1 | ["b_1","a_1","b_2","a_1","a_2","a_3","a_4","a_3","a_2","b_1","c_1"] |
    | 3            | 构造地铁线路，出发点为a2 | ["a_2", "b_1", "c_1", "b_1", "a_1", "b_2", "a_1", "a_2", "a_3", "a_4"] |



### solution模块

* test_decorate_path

  | 测试用例编号 |                             输入                             |                           预期输出                           |
  | :----------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
  |      1       | Station("大葆台", False),Station("郭公庄", True),Station("丰台科技园", False),Station("科怡路", False) | [["大葆台", None], ["郭公庄", "换乘9号线"], ["丰台科技园", None], ["科怡路", None]] |
  |      2       | Station("宣武门", True),Station("西单", True),Station("复兴门", True) | [["宣武门", None], ["西单", "换乘1号线"], ["复兴门", None]]  |

* test_get_edge_belongs

  | 测试用例编号 |           输入           | 预期输出 |
  | :----------: | :----------------------: | :------: |
  |      1       |     "宣武门", "西单"     | "4号线"  |
  |      2       | "白石桥南", "国家图书馆" | "9号线"  |
  |      3       | "和平西桥", "和平里北街" | "5号线"  |
  |      4       |    "郭公庄", "大葆台"    | "房山线" |
  |      5       | "良乡大学城北", "中关村" | 异常处理 |

* test_is_next

  | 测试用例编号 |        输入        | 预期输出 |
  | :----------: | :----------------: | :------: |
  |      1       |  "郭公庄", "稻田"  |  False   |
  |      2       | "北海北", "什刹海" |  False   |
  |      3       |  "东单", "王府井"  |   True   |
  |      4       |  "七里庄", "西局"  |   True   |
  |      5       | "七里庄", "六里桥" |   True   |
  |      6       |  "七里庄", "泥洼"  |  False   |
  |      7       |  "123", "中关村"   | 异常处理 |

* test_travel_path_from
    | 测试用例编号 | 输入                     | 预期输出                                                     |
    |:---------:|:---------:|:---------:|
    | 1            | 构造地铁线路，出发点为a1 | ["a_1","a_2","a_3","a_4","a_1","b_1","a_1","b_2","a_1","a_2","b_1","c_1"] |
    | 2            | 构造地铁线路，出发点为b1 | ["b_1","a_1","b_2","a_1","a_2","a_3","a_4","a_3","a_2","b_1","c_1"] |
    | 3            | 构造地铁线路，出发点为a2 | ["a_2", "b_1", "c_1", "b_1", "a_1", "b_2", "a_1", "a_2", "a_3", "a_4"] |

* test_verify_path

  | 测试用例编号 |                             输入                             | 预期输出 |
  | :----------: | :----------------------------------------------------------: | :------: |
  |      1       |      ["a_1", "a_2", "a_3", "a_4", "b_1", "b_2", "c_1"]       |  error   |
  |      2       |      ["a_1", "a_2", "a_3", "a_4", "a_1", "b_1", "c_1"]       |  false   |
  |      3       | ["b_2", "a_1", "b_1", "c_1", "b_1", "a_1", "a_4", "a_3", "a_2"] |   true   |

  

